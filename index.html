<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ü•ò Leftover Chef</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: linear-gradient(to right, #d4fc79, #96e6a1);
      margin: 0;
      padding: 20px;
      text-align: center;
    }
    h1 {
      color: #2c6e49;
    }
    input {
      padding: 10px;
      width: 250px;
      border-radius: 8px;
      border: 1px solid #ccc;
    }
    button {
      padding: 10px 15px;
      border: none;
      border-radius: 8px;
      background-color: #2c6e49;
      color: white;
      font-weight: bold;
      cursor: pointer;
    }
    button:hover {
      background-color: #228b4d;
    }
    .recipes {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-top: 30px;
    }
    .recipe-card {
      background: white;
      padding: 15px;
      border-radius: 12px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      text-align: left;
    }
    .recipe-card img {
      width: 100%;
      border-radius: 10px;
    }
    .recipe-card h2 {
      font-size: 18px;
      margin: 10px 0;
    }
    .recipe-card a {
      color: #2c6e49;
      font-weight: bold;
      text-decoration: none;
    }
    .recipe-card a:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <h1>ü•ò Leftover Chef</h1>
  <p>Enter your leftover ingredients (comma separated)</p>

  <input type="text" id="ingredients" placeholder="e.g. rice, tomato, chicken"/>
  <button onclick="getRecipes()">Search</button>

  <div id="recipes" class="recipes"></div>

  <script>
    async function getRecipes() {
      let ingredients = document.getElementById("ingredients").value;
      if (!ingredients.trim()) {
        alert("Please enter some ingredients!");
        return;
      }

      // remove spaces so API understands
      ingredients = ingredients.replace(/\s+/g, "");

      const apiKey = "3d7f9c5c5f7b4bb9a5c4996b6f46eeb0"; // üîë your Spoonacular API key
      const url = `https://api.spoonacular.com/recipes/findByIngredients?ingredients=${ingredients}&number=6&apiKey=${apiKey}`;

      document.getElementById("recipes").innerHTML = "<p>Loading recipes...</p>";

      try {
        const res = await fetch(url);
        const data = await res.json();

        if (!data.length) {
          document.getElementById("recipes").innerHTML = "<p>‚ö†Ô∏è No recipes found. Try different ingredients!</p>";
          return;
        }

        let output = "";
        data.forEach(recipe => {
          output += `
            <div class="recipe-card">
              <img src="${recipe.image}" alt="${recipe.title}">
              <h2>${recipe.title}</h2>
              <a href="https://spoonacular.com/recipes/${recipe.title.replace(/ /g, "-")}-${recipe.id}" target="_blank">
                View Recipe ‚Üí
              </a>
            </div>
          `;
        });

        document.getElementById("recipes").innerHTML = output;
      } catch (error) {
        document.getElementById("recipes").innerHTML = "<p>‚ùå Error loading recipes</p>";
        console.error(error);
      }
    }
  </script>
</body>
</html>